/*!
 * jScrollPane - v2.0.19 - 2013-11-16
 * http://jscrollpane.kelvinluck.com/
 *
 * Copyright (c) 2013 Kelvin Luck
 * Dual licensed under the MIT or GPL licenses.
 */
!function(t,e){var n=function(n){return t(n,e)};"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?module.exports=n:n(jQuery)}(function(t,e,n){t.fn.jScrollPane=function(i){function o(i,o){function r(e){var o,a,c,p,d,f,g=!1,v=!1;if(R=e,z===n)d=i.scrollTop(),f=i.scrollLeft(),i.css({overflow:"hidden",padding:0}),q=i.innerWidth()+be,_=i.innerHeight(),i.width(q),z=t('<div class="jspPane" />').css("padding",ye).append(i.children()),U=t('<div class="jspContainer" />').css({width:q+"px",height:_+"px"}).append(z).appendTo(i);else{if(i.css("width",""),g=R.stickToBottom&&D(),v=R.stickToRight&&j(),p=i.innerWidth()+be!=q||i.outerHeight()!=_,p&&(q=i.innerWidth()+be,_=i.innerHeight(),U.css({width:q+"px",height:_+"px"})),!p&&we==X&&z.outerHeight()==V)return void i.width(q);we=X,z.css("width",""),i.width(q),U.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}z.css("overflow","auto"),X=e.contentWidth?e.contentWidth:z[0].scrollWidth,V=z[0].scrollHeight,z.css("overflow",""),Y=X/q,Q=V/_,G=Q>1,J=Y>1,J||G?(i.addClass("jspScrollable"),o=R.maintainPosition&&(te||ie),o&&(a=k(),c=S()),s(),l(),u(),o&&($(v?X-q:a,!1),T(g?V-_:c,!1)),P(),N(),F(),R.enableKeyboardNavigation&&H(),R.clickOnTrack&&h(),O(),R.hijackInternalLinks&&W()):(i.removeClass("jspScrollable"),z.css({top:0,left:0,width:U.width()-be}),A(),L(),M(),m()),R.autoReinitialise&&!ve?ve=setInterval(function(){r(R)},R.autoReinitialiseDelay):!R.autoReinitialise&&ve&&clearInterval(ve),d&&i.scrollTop(0)&&T(d,!1),f&&i.scrollLeft(0)&&$(f,!1),i.trigger("jsp-initialised",[J||G])}function s(){G&&(U.append(t('<div class="jspVerticalBar" />').append(t('<div class="jspCap jspCapTop" />'),t('<div class="jspTrack" />').append(t('<div class="jspDrag" />').append(t('<div class="jspDragTop" />'),t('<div class="jspDragBottom" />'))),t('<div class="jspCap jspCapBottom" />'))),oe=U.find(">.jspVerticalBar"),re=oe.find(">.jspTrack"),K=re.find(">.jspDrag"),R.showArrows&&(ce=t('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",d(0,-1)).bind("click.jsp",I),ue=t('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",d(0,1)).bind("click.jsp",I),R.arrowScrollOnHover&&(ce.bind("mouseover.jsp",d(0,-1,ce)),ue.bind("mouseover.jsp",d(0,1,ue))),p(re,R.verticalArrowPositions,ce,ue)),ae=_,U.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){ae-=t(this).outerHeight()}),K.hover(function(){K.addClass("jspHover")},function(){K.removeClass("jspHover")}).bind("mousedown.jsp",function(e){t("html").bind("dragstart.jsp selectstart.jsp",I),K.addClass("jspActive");var n=e.pageY-K.position().top;return t("html").bind("mousemove.jsp",function(t){v(t.pageY-n,!1)}).bind("mouseup.jsp mouseleave.jsp",g),!1}),a())}function a(){re.height(ae+"px"),te=0,se=R.verticalGutter+re.outerWidth(),z.width(q-se-be);try{0===oe.position().left&&z.css("margin-left",se+"px")}catch(t){}}function l(){J&&(U.append(t('<div class="jspHorizontalBar" />').append(t('<div class="jspCap jspCapLeft" />'),t('<div class="jspTrack" />').append(t('<div class="jspDrag" />').append(t('<div class="jspDragLeft" />'),t('<div class="jspDragRight" />'))),t('<div class="jspCap jspCapRight" />'))),pe=U.find(">.jspHorizontalBar"),de=pe.find(">.jspTrack"),ee=de.find(">.jspDrag"),R.showArrows&&(me=t('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",d(-1,0)).bind("click.jsp",I),ge=t('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",d(1,0)).bind("click.jsp",I),R.arrowScrollOnHover&&(me.bind("mouseover.jsp",d(-1,0,me)),ge.bind("mouseover.jsp",d(1,0,ge))),p(de,R.horizontalArrowPositions,me,ge)),ee.hover(function(){ee.addClass("jspHover")},function(){ee.removeClass("jspHover")}).bind("mousedown.jsp",function(e){t("html").bind("dragstart.jsp selectstart.jsp",I),ee.addClass("jspActive");var n=e.pageX-ee.position().left;return t("html").bind("mousemove.jsp",function(t){b(t.pageX-n,!1)}).bind("mouseup.jsp mouseleave.jsp",g),!1}),fe=U.innerWidth(),c())}function c(){U.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){fe-=t(this).outerWidth()}),de.width(fe+"px"),ie=0}function u(){if(J&&G){var e=de.outerHeight(),n=re.outerWidth();ae-=e,t(pe).find(">.jspCap:visible,>.jspArrow").each(function(){fe+=t(this).outerWidth()}),fe-=n,_-=n,q-=e,de.parent().append(t('<div class="jspCorner" />').css("width",e+"px")),a(),c()}J&&z.width(U.outerWidth()-be+"px"),V=z.outerHeight(),Q=V/_,J&&(he=Math.ceil(1/Y*fe),he>R.horizontalDragMaxWidth?he=R.horizontalDragMaxWidth:he<R.horizontalDragMinWidth&&(he=R.horizontalDragMinWidth),ee.width(he+"px"),ne=fe-he,w(ie)),G&&(le=Math.ceil(1/Q*ae),le>R.verticalDragMaxHeight?le=R.verticalDragMaxHeight:le<R.verticalDragMinHeight&&(le=R.verticalDragMinHeight),K.height(le+"px"),Z=ae-le,y(te))}function p(t,e,n,i){var o,r="before",s="after";"os"==e&&(e=/Mac/.test(navigator.platform)?"after":"split"),e==r?s=e:e==s&&(r=e,o=n,n=i,i=o),t[r](n)[s](i)}function d(t,e,n){return function(){return f(t,e,this,n),this.blur(),!1}}function f(e,n,i,o){i=t(i).addClass("jspActive");var r,s,a=!0,l=function(){0!==e&&xe.scrollByX(e*R.arrowButtonSpeed),0!==n&&xe.scrollByY(n*R.arrowButtonSpeed),s=setTimeout(l,a?R.initialDelay:R.arrowRepeatFreq),a=!1};l(),r=o?"mouseout.jsp":"mouseup.jsp",o=o||t("html"),o.bind(r,function(){i.removeClass("jspActive"),s&&clearTimeout(s),s=null,o.unbind(r)})}function h(){m(),G&&re.bind("mousedown.jsp",function(e){if(e.originalTarget===n||e.originalTarget==e.currentTarget){var i,o=t(this),r=o.offset(),s=e.pageY-r.top-te,a=!0,l=function(){var t=o.offset(),n=e.pageY-t.top-le/2,r=_*R.scrollPagePercent,u=Z*r/(V-_);if(0>s)te-u>n?xe.scrollByY(-r):v(n);else{if(!(s>0))return void c();n>te+u?xe.scrollByY(r):v(n)}i=setTimeout(l,a?R.initialDelay:R.trackClickRepeatFreq),a=!1},c=function(){i&&clearTimeout(i),i=null,t(document).unbind("mouseup.jsp",c)};return l(),t(document).bind("mouseup.jsp",c),!1}}),J&&de.bind("mousedown.jsp",function(e){if(e.originalTarget===n||e.originalTarget==e.currentTarget){var i,o=t(this),r=o.offset(),s=e.pageX-r.left-ie,a=!0,l=function(){var t=o.offset(),n=e.pageX-t.left-he/2,r=q*R.scrollPagePercent,u=ne*r/(X-q);if(0>s)ie-u>n?xe.scrollByX(-r):b(n);else{if(!(s>0))return void c();n>ie+u?xe.scrollByX(r):b(n)}i=setTimeout(l,a?R.initialDelay:R.trackClickRepeatFreq),a=!1},c=function(){i&&clearTimeout(i),i=null,t(document).unbind("mouseup.jsp",c)};return l(),t(document).bind("mouseup.jsp",c),!1}})}function m(){de&&de.unbind("mousedown.jsp"),re&&re.unbind("mousedown.jsp")}function g(){t("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),K&&K.removeClass("jspActive"),ee&&ee.removeClass("jspActive")}function v(t,e){G&&(0>t?t=0:t>Z&&(t=Z),e===n&&(e=R.animateScroll),e?xe.animate(K,"top",t,y):(K.css("top",t),y(t)))}function y(t){t===n&&(t=K.position().top),U.scrollTop(0),te=t;var e=0===te,o=te==Z,r=t/Z,s=-r*(V-_);(Ce!=e||$e!=o)&&(Ce=e,$e=o,i.trigger("jsp-arrow-change",[Ce,$e,Te,Ee])),x(e,o),z.css("top",s),i.trigger("jsp-scroll-y",[-s,e,o]).trigger("scroll")}function b(t,e){J&&(0>t?t=0:t>ne&&(t=ne),e===n&&(e=R.animateScroll),e?xe.animate(ee,"left",t,w):(ee.css("left",t),w(t)))}function w(t){t===n&&(t=ee.position().left),U.scrollTop(0),ie=t;var e=0===ie,o=ie==ne,r=t/ne,s=-r*(X-q);(Te!=e||Ee!=o)&&(Te=e,Ee=o,i.trigger("jsp-arrow-change",[Ce,$e,Te,Ee])),C(e,o),z.css("left",s),i.trigger("jsp-scroll-x",[-s,e,o]).trigger("scroll")}function x(t,e){R.showArrows&&(ce[t?"addClass":"removeClass"]("jspDisabled"),ue[e?"addClass":"removeClass"]("jspDisabled"))}function C(t,e){R.showArrows&&(me[t?"addClass":"removeClass"]("jspDisabled"),ge[e?"addClass":"removeClass"]("jspDisabled"))}function T(t,e){var n=t/(V-_);v(n*Z,e)}function $(t,e){var n=t/(X-q);b(n*ne,e)}function E(e,n,i){var o,r,s,a,l,c,u,p,d,f=0,h=0;try{o=t(e)}catch(m){return}for(r=o.outerHeight(),s=o.outerWidth(),U.scrollTop(0),U.scrollLeft(0);!o.is(".jspPane");)if(f+=o.position().top,h+=o.position().left,o=o.offsetParent(),/^body|html$/i.test(o[0].nodeName))return;a=S(),c=a+_,a>f||n?p=f-R.horizontalGutter:f+r>c&&(p=f-_+r+R.horizontalGutter),isNaN(p)||T(p,i),l=k(),u=l+q,l>h||n?d=h-R.horizontalGutter:h+s>u&&(d=h-q+s+R.horizontalGutter),isNaN(d)||$(d,i)}function k(){return-z.position().left}function S(){return-z.position().top}function D(){var t=V-_;return t>20&&t-S()<10}function j(){var t=X-q;return t>20&&t-k()<10}function N(){U.unbind(Se).bind(Se,function(t,e,n,i){var o=ie,r=te,s=t.deltaFactor||R.mouseWheelSpeed;return xe.scrollBy(n*s,-i*s,!1),o==ie&&r==te})}function A(){U.unbind(Se)}function I(){return!1}function P(){z.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(t){E(t.target,!1)})}function L(){z.find(":input,a").unbind("focus.jsp")}function H(){function e(){var t=ie,e=te;switch(n){case 40:xe.scrollByY(R.keyboardSpeed,!1);break;case 38:xe.scrollByY(-R.keyboardSpeed,!1);break;case 34:case 32:xe.scrollByY(_*R.scrollPagePercent,!1);break;case 33:xe.scrollByY(-_*R.scrollPagePercent,!1);break;case 39:xe.scrollByX(R.keyboardSpeed,!1);break;case 37:xe.scrollByX(-R.keyboardSpeed,!1)}return o=t!=ie||e!=te}var n,o,r=[];J&&r.push(pe[0]),G&&r.push(oe[0]),z.focus(function(){i.focus()}),i.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(i){if(i.target===this||r.length&&t(i.target).closest(r).length){var s=ie,a=te;switch(i.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:n=i.keyCode,e();break;case 35:T(V-_),n=null;break;case 36:T(0),n=null}return o=i.keyCode==n&&s!=ie||a!=te,!o}}).bind("keypress.jsp",function(t){return t.keyCode==n&&e(),!o}),R.hideFocus?(i.css("outline","none"),"hideFocus"in U[0]&&i.attr("hideFocus",!0)):(i.css("outline",""),"hideFocus"in U[0]&&i.attr("hideFocus",!1))}function M(){i.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function O(){if(location.hash&&location.hash.length>1){var e,n,i=escape(location.hash.substr(1));try{e=t("#"+i+', a[name="'+i+'"]')}catch(o){return}e.length&&z.find(i)&&(0===U.scrollTop()?n=setInterval(function(){U.scrollTop()>0&&(E(e,!0),t(document).scrollTop(U.position().top),clearInterval(n))},50):(E(e,!0),t(document).scrollTop(U.position().top)))}}function W(){t(document.body).data("jspHijack")||(t(document.body).data("jspHijack",!0),t(document.body).delegate("a[href*=#]","click",function(n){var i,o,r,s,a,l,c=this.href.substr(0,this.href.indexOf("#")),u=location.href;if(-1!==location.href.indexOf("#")&&(u=location.href.substr(0,location.href.indexOf("#"))),c===u){i=escape(this.href.substr(this.href.indexOf("#")+1));try{o=t("#"+i+', a[name="'+i+'"]')}catch(p){return}o.length&&(r=o.closest(".jspScrollable"),s=r.data("jsp"),s.scrollToElement(o,!0),r[0].scrollIntoView&&(a=t(e).scrollTop(),l=o.offset().top,(a>l||l>a+t(e).height())&&r[0].scrollIntoView()),n.preventDefault())}}))}function F(){var t,e,n,i,o,r=!1;U.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(s){var a=s.originalEvent.touches[0];t=k(),e=S(),n=a.pageX,i=a.pageY,o=!1,r=!0}).bind("touchmove.jsp",function(s){if(r){var a=s.originalEvent.touches[0],l=ie,c=te;return xe.scrollTo(t+n-a.pageX,e+i-a.pageY),o=o||Math.abs(n-a.pageX)>5||Math.abs(i-a.pageY)>5,l==ie&&c==te}}).bind("touchend.jsp",function(){r=!1}).bind("click.jsp-touchclick",function(){return o?(o=!1,!1):void 0})}function B(){var t=S(),e=k();i.removeClass("jspScrollable").unbind(".jsp"),i.replaceWith(ke.append(z.children())),ke.scrollTop(t),ke.scrollLeft(e),ve&&clearInterval(ve)}var R,z,q,_,U,X,V,Y,Q,G,J,K,Z,te,ee,ne,ie,oe,re,se,ae,le,ce,ue,pe,de,fe,he,me,ge,ve,ye,be,we,xe=this,Ce=!0,Te=!0,$e=!1,Ee=!1,ke=i.clone(!1,!1).empty(),Se=t.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";"border-box"===i.css("box-sizing")?(ye=0,be=0):(ye=i.css("paddingTop")+" "+i.css("paddingRight")+" "+i.css("paddingBottom")+" "+i.css("paddingLeft"),be=(parseInt(i.css("paddingLeft"),10)||0)+(parseInt(i.css("paddingRight"),10)||0)),t.extend(xe,{reinitialise:function(e){e=t.extend({},R,e),r(e)},scrollToElement:function(t,e,n){E(t,e,n)},scrollTo:function(t,e,n){$(t,n),T(e,n)},scrollToX:function(t,e){$(t,e)},scrollToY:function(t,e){T(t,e)},scrollToPercentX:function(t,e){$(t*(X-q),e)},scrollToPercentY:function(t,e){T(t*(V-_),e)},scrollBy:function(t,e,n){xe.scrollByX(t,n),xe.scrollByY(e,n)},scrollByX:function(t,e){var n=k()+Math[0>t?"floor":"ceil"](t),i=n/(X-q);b(i*ne,e)},scrollByY:function(t,e){var n=S()+Math[0>t?"floor":"ceil"](t),i=n/(V-_);v(i*Z,e)},positionDragX:function(t,e){b(t,e)},positionDragY:function(t,e){v(t,e)},animate:function(t,e,n,i){var o={};o[e]=n,t.animate(o,{duration:R.animateDuration,easing:R.animateEase,queue:!1,step:i})},getContentPositionX:function(){return k()},getContentPositionY:function(){return S()},getContentWidth:function(){return X},getContentHeight:function(){return V},getPercentScrolledX:function(){return k()/(X-q)},getPercentScrolledY:function(){return S()/(V-_)},getIsScrollableH:function(){return J},getIsScrollableV:function(){return G},getContentPane:function(){return z},scrollToBottom:function(t){v(Z,t)},hijackInternalLinks:t.noop,destroy:function(){B()}}),r(o)}return i=t.extend({},t.fn.jScrollPane.defaults,i),t.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){i[this]=i[this]||i.speed}),this.each(function(){var e=t(this),n=e.data("jsp");n?n.reinitialise(i):(t("script",e).filter('[type="text/javascript"],:not([type])').remove(),n=new o(e,i),e.data("jsp",n))})},t.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:n,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}},this);